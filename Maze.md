# 미로 탈출 게임 문서

## 개요

이 문서는 미로 탈출 게임의 주요 함수와 알고리즘을 설명합니다. 게임은 Tkinter를 사용하여 GUI를 구현하며, 다양한 난이도의 미로를 생성하고 플레이어가 열쇠를 찾고 출구로 탈출하는 목표를 가지고 있습니다.

- **Tkinter**: GUI를 생성하는 데 사용됩니다. 게임 화면을 표시하고 사용자 입력을 처리합니다.


## 구현 세부 사항

- **게임 상태**: 게임의 상태를 정의합니다 (`IN_PROGRESS`, `SUCCESS`, `FAILED`).
- **미로 생성**:
  - 미로는 2D 리스트로 표현되며, `1`은 벽을, `0`은 경로를 나타냅니다.
  - 난이도에 따라 미로의 크기가 변경됩니다:
    - 레벨 1: 5x5
    - 레벨 2: 7x7
    - 레벨 3: 11x11
    - 레벨 4: 13x13
- **열쇠, 자물쇠, 출구**:
  - 열쇠와 자물쇠는 랜덤으로 배치되며, 자물쇠는 항상 출구에 가까운 위치에 배치됩니다.
  - 출구는 미로의 마지막 부분에 위치합니다.

- **설명**: 무작위로 이동하여 경로를 생성합니다. 막힌 경로가 있을 경우 인근의 방문하지 않은 셀을 찾아 미로를 확장합니다. 새로운 셀이 발견되지 않으면 종료합니다.


## 미로 생성 알고리즘

난이도에 따라 다른 미로 생성 알고리즘이 사용됩니다:

1. **레벨 1 및 2**:
   - **Recursive Backtracking Algorithm** (재귀 백트래킹 알고리즘):
     - 시작점에서 벽을 제거하여 경로를 생성합니다.
     - 이동할 방향을 무작위로 섞고, 벽을 제거하며 경로를 만듭니다. 필요시 이전 위치로 돌아가며 계속 진행합니다.

2. **레벨 3**:
   - **Prims Algorithm** (프림 알고리즘):
     - 그리드의 셀에서 시작하여 미로를 확장합니다.
     - 프론티어에서 벽을 무작위로 선택하여 경로를 만듭니다. 프론티어를 업데이트하여 새로운 벽을 추가합니다.

3. **레벨 4**:
   - **Hunt and Kill Algorithm** (헌트 앤 킬 알고리즘):
     - 그리드 셀에서 시작하여 무작위로 이동하며 경로를 생성합니다.
     - 경로가 막히면 인근의 방문하지 않은 셀을 찾아서 미로를 계속 확장합니다.





## 함수 설명

### `__init__(self, master)`

- **역할**: 게임 초기화
- **설명**: 게임의 주요 프레임과 위젯을 설정하고, 초기 상태를 설정합니다. 게임 시작 화면을 표시합니다.

### `load_images(self)`

- **역할**: 게임에 필요한 이미지를 로드
- **설명**: 벽, 바닥, 열쇠, 자물쇠, 출구, 플레이어 이미지 파일을 로드하고 크기를 조정하여 `PhotoImage` 객체로 변환합니다.

### `create_start_screen(self)`

- **역할**: 게임 시작 화면 생성
- **설명**: 게임 제목과 레벨 선택 버튼을 포함하는 시작 화면을 생성합니다.

### `start_game(self, level)`

- **역할**: 게임 시작
- **설명**: 선택된 난이도에 따라 게임을 시작합니다. 게임 프레임을 표시하고, 게임 상태를 초기화합니다.

### `generate_maze(self)`

- **역할**: 미로 생성
- **설명**: 선택된 난이도에 맞는 미로를 생성합니다. 사용되는 알고리즘은 난이도에 따라 달라집니다.

### `recursive_backtracking(self, x, y)`

- **역할**: 재귀 백트래킹 알고리즘을 사용하여 미로 생성
- **설명**: 시작점에서 벽을 제거하여 경로를 생성합니다. 이동할 방향을 무작위로 섞고, 벽을 제거하며 경로를 만듭니다.

### `prims_algorithm(self)`

- **역할**: 프림 알고리즘을 사용하여 미로 생성
- **설명**: 셀에서 시작하여 프론티어를 통해 미로를 확장합니다. 프론티어에서 무작위로 벽을 선택하여 경로를 만듭니다.

### `hunt_and_kill_algorithm(self)`

- **역할**: 헌트 앤 킬 알고리즘을 사용하여 미로 생성
- **설명**: 무작위로 이동하여 경로를 생성하고, 막힌 경로가 있을 경우 인근의 방문하지 않은 셀을 찾아 미로를 확장합니다.

### `set_key_lock_exit(self)`

- **역할**: 열쇠, 자물쇠, 출구 설정
- **설명**: 미로 내 열쇠, 자물쇠, 출구의 위치를 설정합니다. 자물쇠는 항상 출구에 가까운 위치에 배치됩니다.

### `find_path(self, start_x, start_y, end_x, end_y)`

- **역할**: 두 점 사이의 경로 찾기
- **설명**: BFS 알고리즘을 사용하여 시작점과 끝점 사이의 경로를 찾습니다.

### `reset(self)`

- **역할**: 게임 초기화
- **설명**: 미로를 새로 생성하고 플레이어의 위치와 상태를 초기화합니다.

### `update_canvas(self)`

- **역할**: 캔버스 업데이트
- **설명**: 현재 미로 상태를 캔버스에 렌더링합니다. 벽, 바닥, 열쇠, 자물쇠, 출구, 플레이어를 그립니다.

### `key_down(self, event)`

- **역할**: 키 입력 처리
- **설명**: 방향키와 `Escape` 키 입력을 처리하여 플레이어 이동 및 게임 일시 정지 기능을 구현합니다.

### `move_player(self, dx, dy)`

- **역할**: 플레이어 이동
- **설명**: 플레이어를 새로운 위치로 이동시키고, 게임 상태를 확인합니다.

### `check_game_status(self)`

- **역할**: 게임 상태 확인
- **설명**: 플레이어가 열쇠를 획득하거나 출구에 도달했는지 확인합니다.

### `show_message(self, message, state)`

- **역할**: 메시지 표시
- **설명**: 게임 종료 메시지를 표시하고 게임을 리셋합니다.

### `pause_game(self)`

- **역할**: 게임 일시 정지
- **설명**: 게임을 일시 정지하고, 일시 정지 메뉴를 표시합니다.

### `resume_game(self)`

- **역할**: 게임 재개
- **설명**: 게임을 재개하고, 일시 정지 메뉴를 숨깁니다.

### `restart_game(self)`

- **역할**: 게임 재시작
- **설명**: 게임을 초기화하고 다시 시작합니다.

### `level_selection(self)`

- **역할**: 레벨 선택 화면으로 이동
- **설명**: 게임 프레임을 숨기고 시작 화면으로 돌아갑니다.

### `main_proc(self)`

- **역할**: 게임 루프
- **설명**: 게임의 메인 루프를 실행하여 게임 상태를 주기적으로 업데이트합니다.



